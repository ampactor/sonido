#!/usr/bin/env bash
# Pre-push hook: fast local guard (format only).
# Full tests, clippy, etc. run in CI â€” no need to replicate here.
# Install via: make install-hooks
# Skip via:    SKIP_CI=1 git push

set -euo pipefail

if [[ "${SKIP_CI:-0}" == "1" ]]; then
  echo "SKIP_CI=1 set, skipping pre-push checks"
  exit 0
fi

echo "Pre-push: checking format..."
cargo fmt --all -- --check
echo "Pre-push checks passed."
